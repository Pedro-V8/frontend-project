<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <script
    src="https://code.jquery.com/jquery-3.6.0.js"
    integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<body>

    <div class="header">
        <label class="title">WAIFUPICS</label>
        <div class="division"></div>
    </div>
    <button class="botao">Click me</button>
    <img class="image">
    <img src="imagens/esquerda.png" class="esquerda">
    <img src="imagens/direita.png" class="direita">



    <script>
            let arrayCliente = []
            let result = []
            const random = (num) => Math.floor(Math.random() * num);

            async function getContent(){
                try {
                    const response = await fetch('http://localhost:3333/imagens') 
                    const data = await response.json()
                    data.map((e) => {
                        result.push(e)
                    })



                    //while(arrayCliente.length < 10){
                        //let imagem = random(data.length)

                        //if(arrayCliente.indexOf(result[imagem]) === -1)
                       // {
                           // arrayCliente.push(data[imagem])
                          //  console.log(imagem)
                            //console.log(Math.floor(imagem))
                        //}

                   // }


                    console.log(result)
                    console.log(arrayCliente)
                    //console.log(arrayCliente[9])
                    //console.log(data[arrayCliente[9]].url)
                    //$(".image").attr("src",data[arrayCliente[9]].url)
                    //console.log(data.length)

                } catch (error) {
                    console.error(error)    
                }

            }
            getContent()


            

            function testeClique(indice = 0 , dt){
                let botao = document.querySelector('.botao').addEventListener('click' , () =>{
                    $(".image").attr("src", result[indice].url)
                    indice++
                    if(indice === result.length)
                    {
                        indice = 0
                    }
                })
            }

            testeClique()
            //testeClique(d)

    </script>
</body>
</html>