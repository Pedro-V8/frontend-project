<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <script
    src="https://code.jquery.com/jquery-3.6.0.js"
    integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<body>

    <div class="header">
        <label class="title">WAIFUPICS</label>
    </div>

    <div class="division"></div>


    <div class="manager">
        <div class="option">
            <img src="imagens/sEsquerda.png" class="esquerda">
        </div>

        <button class="botao">Click me</button>
    
        <div class="option">
            <img src="imagens/sDireita.png" class="direita">
        </div>
    
    </div>


    <div class="imageContent">
        <img class="image">
    </div>




    <script>
            let arrayCliente = []
            let result = []
            const random = (num) => Math.floor(Math.random() * num);

            async function getContent(){
                try {
                    const response = await fetch('https://wa-images-backend.herokuapp.com/imagens') 
                    const data = await response.json()
                    data.map((e) => {
                        result.push(e)
                    })



                   // while(arrayCliente.length < 10){
                     //   let imagem = random(data.length)

                      //  if(arrayCliente.indexOf(result[imagem]) === -1)
                      //  {
                       //     arrayCliente.push(data[imagem])
                       //     console.log(imagem)
                       //     console.log(Math.floor(imagem))
                       // }

                    //}


                    console.log(result)
                    console.log(arrayCliente)
                    //console.log(arrayCliente[9])
                    //console.log(data[arrayCliente[9]].url)
                    //$(".image").attr("src",data[arrayCliente[9]].url)
                    //console.log(data.length)

                } catch (error) {
                    console.error(error)    
                }

            }
            getContent()


            

            function testeClique(indice = 0){
                let botao = document.querySelector('.botao').addEventListener('click' , () =>{
                    $(".image").attr("src", result[0].url)
                    document.querySelector('.botao').style.display = 'none'
                    //indice++
                    //if(indice === result.length)
                    //{
                      //  indice = 0
                    //}
                    
                })

                let direita = document.querySelector('.direita').addEventListener('click' , () =>{
                    indice += 1
                    $(".image").attr("src", result[indice].url)
    
                    if(indice === result.length)
                    {
                        indice = 0
                    }

                    //indice ++
                    console.log(indice)
                })

                let esquerda = document.querySelector('.esquerda').addEventListener('click' , () =>{
                    indice -= 1
                    $(".image").attr("src", result[indice].url)
                    //indice --
                    //console.log(result[indice].url)
                    console.log(indice)

                })
            }

            testeClique()
            //testeClique(d)

    </script>
</body>
</html>